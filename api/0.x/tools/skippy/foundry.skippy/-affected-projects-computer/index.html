<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>AffectedProjectsComputer</title>
<link href="../../../../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../../styles/style.css" rel="Stylesheet">
<link href="../../../../styles/main.css" rel="Stylesheet">
<link href="../../../../styles/prism.css" rel="Stylesheet">
<link href="../../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="../../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
<a class="library-name--link" href="../../../../index.html">
                            foundry
                    </a>            </div>
            <div class="library-version">
            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":tools:skippy:dokkaHtmlPartial/main">jvm</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="classlike" id="content" pageids="skippy::foundry.skippy/AffectedProjectsComputer///PointingToDeclaration//46345377">
  <div class="breadcrumbs"><a href="../../index.html">skippy</a><span class="delimiter">/</span><a href="../index.html">foundry.skippy</a><span class="delimiter">/</span><span class="current">AffectedProjectsComputer</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Affected</span><wbr><span>Projects</span><wbr><span><span>Computer</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":tools:skippy:dokkaHtmlPartial/main"><div class="symbol monospace"><span class="token keyword">class </span><a href="index.html">AffectedProjectsComputer</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">rootDirPath<span class="token operator">: </span><span data-unresolved-link="okio/Path///PointingToDeclaration/">Path</span><span class="token punctuation">, </span></span><span class="parameter ">dependencyMetadata<span class="token operator">: </span><a href="../-dependency-metadata/index.html">DependencyMetadata</a><span class="token punctuation">, </span></span><span class="parameter ">changedFilePaths<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span data-unresolved-link="okio/Path///PointingToDeclaration/">Path</span><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">diagnostics<span class="token operator">: </span><a href="../-diagnostic-writer/index.html">DiagnosticWriter</a><span class="token operator"> = </span>DiagnosticWriter.NoOp<span class="token punctuation">, </span></span><span class="parameter ">config<span class="token operator">: </span><a href="../-skippy-config/index.html">SkippyConfig</a><span class="token operator"> = </span>SkippyConfig(GLOBAL_TOOL, buildUponDefaults = true)<span class="token punctuation">, </span></span><span class="parameter ">androidTestProjects<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html">Set</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptySet()<span class="token punctuation">, </span></span><span class="parameter ">debug<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">false</span><span class="token punctuation">, </span></span><span class="parameter ">fileSystem<span class="token operator">: </span><span data-unresolved-link="okio/FileSystem///PointingToDeclaration/">FileSystem</span><span class="token operator"> = </span>FileSystem.SYSTEM<span class="token punctuation">, </span></span><span class="parameter ">logger<span class="token operator">: </span><a href="../../../../tools/foundry-common/foundry.common/-foundry-logger/index.html">FoundryLogger</a><span class="token operator"> = </span>FoundryLogger.noop()</span></span><span class="token punctuation">)</span><span class="clearfix"><span class="floating-right">(<a href="https://github.com/slackhq/foundry//tree/main/tools/skippy/src/main/kotlin/foundry/skippy/AffectedProjectsComputer.kt#L84">source</a>)</span></span></div><p class="paragraph">This is a program compute the set of Gradle projects that are affected by a set of changed files (<a href="../../../../tools/skippy/foundry.skippy/-affected-projects-computer/changed-file-paths.html">changedFilePaths</a>).</p><p class="paragraph">The intention of this program is to run as a preflight step in pull requests to only run a subset of checks affected by files changed <i>in</i> that PR. This allows CI on PRs to safely complete faster and reduce CI usage.</p><p class="paragraph"><strong>NOTE</strong>: Included builds are not supported.</p><h3 class="">Inputs</h3><p class="paragraph">The primary input is <a href="../../../../tools/skippy/foundry.skippy/-affected-projects-computer/changed-file-paths.html">changedFilePaths</a>, which is a newline-delimited list of files that have changed. Usually the files changed in a pull request.</p><p class="paragraph"><a href="../-skippy-config/include-patterns.html">SkippyConfig.includePatterns</a> is a list of glob patterns that are used to filter the list of changed files. These should usually be source files that are deemed to participate in builds (e.g. <code class="lang-kotlin">.kt</code> files).</p><p class="paragraph"><a href="../-skippy-config/never-skip-patterns.html">SkippyConfig.neverSkipPatterns</a> is a list of glob patterns that, if matched with any changed file, indicate that nothing should be skipped and the full build should run. This is important for files like version catalog toml files or root build.gradle file changes.</p><h3 class="">Outputs</h3><p class="paragraph">The primary output <a href="../-affected-projects-result/affected-projects.html">AffectedProjectsResult.affectedProjects</a> is a set of Gradle project paths that are determined to be affected. This is intended to be used as an input to a subsequent Gradle invocation (usually as a file) to inform which projects can be avoided.</p><p class="paragraph">A secondary output file is <a href="../-affected-projects-result/focus-projects.html">AffectedProjectsResult.focusProjects</a>. This is a set of Gradle project paths that can be written to a <code class="lang-kotlin">focus.settings.gradle</code> file that can be used with the dropbox/focus plugin, and will be a minimal list of projects needed to build the affected projects.</p><p class="paragraph">With both outputs, if any "never-skippable" files <a href="../-skippy-config/never-skip-patterns.html">SkippyConfig.neverSkipPatterns</a> are changed, then no output file is produced and all projects are considered affected. If a file is produced but has no content written to it, that simply means that no projects are affected.</p><h3 class="">Debugging</h3><p class="paragraph">To debug this task, pass in <code class="lang-kotlin">-Pslack.debug=true</code> to enable debug logging. This will also output verbose diagnostics to <a href="../../../../tools/skippy/foundry.skippy/-affected-projects-computer/diagnostics.html">diagnostics</a> (usually <code class="lang-kotlin">build/skippy/diagnostics</code>). Debug mode will also output timings.</p></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION">Members</button></div>
    <div class="tabs-section-body">
      <div data-togglable="CONSTRUCTOR">
        <h2 class="">Constructors</h2>
        <div class="table"><a data-name="923982796%2FConstructors%2F46345377" anchor-label="AffectedProjectsComputer" id="923982796%2FConstructors%2F46345377" data-filterable-set=":tools:skippy:dokkaHtmlPartial/main"></a>
          <div class="table-row" data-togglable="CONSTRUCTOR" data-filterable-current=":tools:skippy:dokkaHtmlPartial/main" data-filterable-set=":tools:skippy:dokkaHtmlPartial/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-affected-projects-computer.html"><span>Affected</span><wbr><span>Projects</span><wbr><span><span>Computer</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="923982796%2FConstructors%2F46345377"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":tools:skippy:dokkaHtmlPartial/main"><div class="symbol monospace"><span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">rootDirPath<span class="token operator">: </span><span data-unresolved-link="okio/Path///PointingToDeclaration/">Path</span><span class="token punctuation">, </span></span><span class="parameter ">dependencyMetadata<span class="token operator">: </span><a href="../-dependency-metadata/index.html">DependencyMetadata</a><span class="token punctuation">, </span></span><span class="parameter ">changedFilePaths<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><span data-unresolved-link="okio/Path///PointingToDeclaration/">Path</span><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">diagnostics<span class="token operator">: </span><a href="../-diagnostic-writer/index.html">DiagnosticWriter</a><span class="token operator"> = </span>DiagnosticWriter.NoOp<span class="token punctuation">, </span></span><span class="parameter ">config<span class="token operator">: </span><a href="../-skippy-config/index.html">SkippyConfig</a><span class="token operator"> = </span>SkippyConfig(GLOBAL_TOOL, buildUponDefaults = true)<span class="token punctuation">, </span></span><span class="parameter ">androidTestProjects<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html">Set</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptySet()<span class="token punctuation">, </span></span><span class="parameter ">debug<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">false</span><span class="token punctuation">, </span></span><span class="parameter ">fileSystem<span class="token operator">: </span><span data-unresolved-link="okio/FileSystem///PointingToDeclaration/">FileSystem</span><span class="token operator"> = </span>FileSystem.SYSTEM<span class="token punctuation">, </span></span><span class="parameter ">logger<span class="token operator">: </span><a href="../../../../tools/foundry-common/foundry.common/-foundry-logger/index.html">FoundryLogger</a><span class="token operator"> = </span>FoundryLogger.noop()</span></span><span class="token punctuation">)</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="1096995018%2FFunctions%2F46345377" anchor-label="compute" id="1096995018%2FFunctions%2F46345377" data-filterable-set=":tools:skippy:dokkaHtmlPartial/main"></a>
          <div class="table-row" data-filterable-current=":tools:skippy:dokkaHtmlPartial/main" data-filterable-set=":tools:skippy:dokkaHtmlPartial/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="compute.html"><span><span>compute</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1096995018%2FFunctions%2F46345377"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":tools:skippy:dokkaHtmlPartial/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="compute.html"><span class="token function">compute</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-affected-projects-result/index.html">AffectedProjectsResult</a><span class="token operator">?</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>

